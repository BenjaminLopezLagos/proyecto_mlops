schema: '2.0'
stages:
  training:
    cmd: python train.py
    deps:
    - path: data/raw_dataset
      hash: md5
      md5: 2146a7ada627b3b31dec9b2501164ff7.dir
      size: 446132536
      nfiles: 17831
    - path: params.yaml
      hash: md5
      md5: e52418d81e3048d240085480cd843766
      size: 82
    - path: train.py
      hash: md5
      md5: 197bb2046aab9ea3965b933b43f93857
      size: 1237
    - path: utils.py
      hash: md5
      md5: 0bca4044f3300b0b15475e75a49ccb75
      size: 929
    outs:
    - path: models/model_new.pt
      hash: md5
      md5: 1bf7c13a1725dc6940ea542ff5e6052e
      size: 6252697
    - path: training_results/train_metrics.csv
      hash: md5
      md5: 8a013be49030560ab931f5ebd1f304c5
      size: 17187
  test_model:
    cmd: python test.py
    deps:
    - path: models/model.onnx
      hash: md5
      md5: 30aab5164d5cba5e82a8a7e1efffeb53
      size: 12241405
    - path: potatoes.jpg
      hash: md5
      md5: 5c2f4772def693dc058a7113fa8ac755
      size: 53299
    - path: test.py
      hash: md5
      md5: 2efdead53c848bfcb61923c9bfd72e4b
      size: 367
    - path: utils.py
      hash: md5
      md5: 0bca4044f3300b0b15475e75a49ccb75
      size: 929
    outs:
    - path: test_results/potatoes.jpg
      hash: md5
      md5: d20e38aea6775179451d0d0976704368
      size: 150905
  conversion_to_onnx:
    cmd: python to_onnx.py
    deps:
    - path: models/model.pt
      hash: md5
      md5: 1bf7c13a1725dc6940ea542ff5e6052e
      size: 6252697
    outs:
    - path: models/model.onnx
      hash: md5
      md5: 30aab5164d5cba5e82a8a7e1efffeb53
      size: 12241405
  model_testing:
    cmd: python model_performance.py
    deps:
    - path: models/model_new.pt
      hash: md5
      md5: 1bf7c13a1725dc6940ea542ff5e6052e
      size: 6252697
    - path: models/model_old.pt
      hash: md5
      md5: 1bf7c13a1725dc6940ea542ff5e6052e
      size: 6252697
    outs:
    - path: models/model.pt
      hash: md5
      md5: 1bf7c13a1725dc6940ea542ff5e6052e
      size: 6252697
